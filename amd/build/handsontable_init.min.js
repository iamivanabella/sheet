define(["jquery","core/log"],function(e,n){return{init:function(){function e(e,n){var t=document.createElement("script");t.type="text/javascript",t.src=e,t.onload=n,document.head.appendChild(t)}n.debug("Initializing Handsontable..."),e("https://cdn.jsdelivr.net/npm/hyperformula/dist/hyperformula.full.min.js",function(){e("https://cdn.jsdelivr.net/npm/handsontable/dist/handsontable.full.min.js",function(){var e=document.getElementById("spreadsheet-editor"),t=document.getElementById("id_spreadsheetdata"),a=t?t.value:"";""===a&&(a=JSON.stringify(array_fill(0,20,array_fill(0,20,"")))),n.debug(a);var i=new Handsontable(e,{data:JSON.parse(a),rowHeaders:!0,colHeaders:!0,rowCount:20,colCount:20,dropdownMenu:!0,contextMenu:!0,formulas:{engine:HyperFormula},licenseKey:"non-commercial-and-evaluation",afterChange:function(e,n){"loadData"!==n&&(a=JSON.stringify(i.getData()),t.value=a)}})})})}}});